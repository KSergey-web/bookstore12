<div class="container pt-2">
  <form #bookForm="ngForm" novalidate>
    <div class="form-group">
      Название книги
      <div class="col-md-8">
        <input class="form-control" name="bookName" placeholder="Название" maxlength="100" ngModel required />
      </div>
    </div>
    <div class="form-group">
      Авторы:
      <ul>
        <li *ngFor="let author of authors; let i = index">
          <span (dblclick)='editAuthor(author, i)'>{{author}}</span>
        </li>
      </ul>
      <div #authors_temp [hidden]="authors.length != 0" class="alert alert-danger">
        Укажите хотя бы одного автора
      </div>
    </div>

    <p>
      <button type="button" class="btn btn-outline-primary" (click)="collapse_author.toggle()"
        [attr.aria-expanded]="!isAuthorCollapsed" aria-controls="collapseExample">
        Добавить автора
      </button>
    </p>
    <div #collapse_author="ngbCollapse" [(ngbCollapse)]="isAuthorCollapsed">
      <div class="card">
        <div class="card-body">
          <div class="form-group ">
            
              <label class="mb-1">Автор:</label>
              <div class="row">
              <input class="form-control col-sm" [(ngModel)]="author" placeholder="Автор" [ngModelOptions]="{standalone: true}"
                required />
                <button class="ml-1 btn btn-secondary col-2sm" (click)="addAuthor()">Добавить</button>
            </div>
            
          </div>
        </div>
      </div>
    </div>
    <app-book-optional-properties #book_opt_comp_tepm></app-book-optional-properties>
    <div class="form-group">
      <div class="col text-center">
        <button [disabled]="bookForm.invalid || !authors_temp.hidden || !book_opt_comp_tepm.isFormValid()"
          class="btn btn-primary" type="submit" (click)="saveBook(bookForm)">Сохранить книгу</button>
      </div>
    </div>
  </form>
</div>